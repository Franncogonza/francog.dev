<section class="container py-24">
  <h1 class="text-4xl md:text-5xl font-extrabold text-center mb-10">
    Contacto <span class="inline-block">ğŸ“</span>
  </h1>

  <div class="max-w-2xl mx-auto">
    <form
      (submit)="onSubmit(); $event.preventDefault()"
      class="bg-white/70 dark:bg-neutral-900/70 backdrop-blur-md p-8 rounded-3xl border border-neutral-200 dark:border-neutral-700 shadow-xl"
    >
      <!-- Mensaje de error especÃ­fico -->
      <div
        *ngIf="formError()"
        class="mb-6 p-4 bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-lg"
      >
        <p class="text-red-700 dark:text-red-200 font-medium flex items-center gap-2">
          <span>âŒ</span>
          {{ formError() }}
        </p>
      </div>

      <!-- Mensaje de Ã©xito -->
      <div
        *ngIf="formStatus() === 'success'"
        class="mb-6 p-4 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-lg"
      >
        <p class="text-green-700 dark:text-green-200 font-medium flex items-center gap-2">
          <span>âœ…</span>
          Â¡Mensaje enviado exitosamente! Nos pondremos en contacto pronto.
        </p>
      </div>

      <!-- Nombre -->
      <div class="mb-5">
        <label class="block mb-1 font-medium" for="name">Nombre</label>
        <input
          type="text"
          id="name"
          [value]="name()"
          (input)="onInput('name', $any($event.target).value)"
          [disabled]="formStatus() === 'sending' || formStatus() === 'success'"
          class="w-full px-4 py-3 rounded-lg border transition disabled:opacity-50 disabled:cursor-not-allowed"
          [class.border-red-500]="nameError()"
          [class.border-neutral-300]="!nameError()"
        />
        <p *ngIf="nameError()" class="text-red-500 text-sm mt-1">{{ nameError() }}</p>
      </div>

      <!-- Email -->
      <div class="mb-5">
        <label class="block mb-1 font-medium" for="email">Email</label>
        <input
          type="email"
          id="email"
          [value]="email()"
          (input)="onInput('email', $any($event.target).value)"
          [disabled]="formStatus() === 'sending' || formStatus() === 'success'"
          class="w-full px-4 py-3 rounded-lg border transition disabled:opacity-50 disabled:cursor-not-allowed"
          [class.border-red-500]="emailError()"
          [class.border-neutral-300]="!emailError()"
        />
        <p *ngIf="emailError()" class="text-red-500 text-sm mt-1">{{ emailError() }}</p>
      </div>

      <!-- Mensaje -->
      <div class="mb-5">
        <label class="block mb-1 font-medium" for="message">Mensaje</label>
        <textarea
          id="message"
          rows="5"
          [value]="message()"
          (input)="onInput('message', $any($event.target).value)"
          [disabled]="formStatus() === 'sending' || formStatus() === 'success'"
          class="w-full px-4 py-3 rounded-lg border transition disabled:opacity-50 disabled:cursor-not-allowed"
          [class.border-red-500]="messageError()"
          [class.border-neutral-300]="!messageError()"
        ></textarea>
        <p *ngIf="messageError()" class="text-red-500 text-sm mt-1">{{ messageError() }}</p>
      </div>

      <!-- Botones -->
      <div class="flex justify-center gap-3">
        <button
          type="submit"
          class="btn"
          [disabled]="!formValid() || formStatus() === 'sending' || formStatus() === 'success'"
        >
          <span *ngIf="formStatus() === 'sending'" class="inline-flex items-center gap-2">
            <span class="inline-block animate-spin">â³</span>
            Enviando...
          </span>
          <span *ngIf="formStatus() !== 'sending'">
            {{ formStatus() === 'success' ? 'âœ… Enviado' : 'Enviar Mensaje' }}
          </span>
        </button>

        <!-- BotÃ³n de reintentar si hay error -->
        <button
          *ngIf="formStatus() === 'error'"
          type="button"
          (click)="onSubmit()"
          class="px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-medium transition"
        >
          ğŸ”„ Reintentar
        </button>
      </div>
    </form>
  </div>
</section>
